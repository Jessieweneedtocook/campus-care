<UserInfoScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 10]
        spacing: 10
        size_hint: (1, 1)

        canvas.before:
            Color:
                rgba: 0.145, 0.596, 0.922, 0.7
            Rectangle:
                pos: self.pos
                size: self.size

        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'top'
            size_hint_y: None
            height: dp(50)

            Button:
                text: 'Back >'
                size_hint: None, None
                size: dp(100), dp(50)
                on_release: root.manager.current = 'home'

        Label:
            text: "User Info"
            font_size: '40sp'
            color: 1, 1, 1, 1
            size_hint_y: None
            height: dp(50)
            pos_hint: {'center_x': 0.5}

        BoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            padding: [dp(10), dp(10), dp(10), dp(10)]

            Button:
                text: "Change Email"
                on_release: root.show_change_email()

            Button:
                text: "Change Password"
                on_release: root.show_change_password()

            Button:
                text: "Delete Account"
                on_release: root.show_confirm_delete()

            Button:
                text: "Help/About"
                on_release: root.manager.current = 'wellnesshelp'

            Button:
                text: "Logout"
                on_release: root.logout()

        BoxLayout:
            id: change_email_layout
            orientation: 'vertical'
            spacing: dp(10)
            padding: [dp(10), dp(10), dp(10), dp(10)]
            size_hint_y: None
            height: 0  # Hidden by default
            opacity: 0  # Hidden by default

            TextInput:
                id: new_email
                hint_text: "New Email"
                multiline: False
                size_hint_y: None
                height: dp(40)

            Button:
                text: "Submit"
                on_release: root.change_email()

        BoxLayout:
            id: change_password_layout
            orientation: 'vertical'
            spacing: dp(10)
            padding: [dp(10), dp(10), dp(10), dp(10)]
            size_hint_y: None
            height: 0  # Hidden by default
            opacity: 0  # Hidden by default

            TextInput:
                id: current_password
                hint_text: "Current Password"
                multiline: False
                password: True
                size_hint_y: None
                height: dp(40)

            TextInput:
                id: new_password
                hint_text: "New Password"
                multiline: False
                password: True
                size_hint_y: None
                height: dp(40)

            TextInput:
                id: confirm_new_password
                hint_text: "Confirm New Password"
                multiline: False
                password: True
                size_hint_y: None
                height: dp(40)

            Button:
                text: "Submit"
                size_hint_y: None
                height: dp(40)
                on_release: root.change_password()

        BoxLayout:
            id: confirm_delete_layout
            orientation: 'vertical'
            spacing: dp(10)
            padding: [dp(10), dp(10), dp(10), dp(10)]
            size_hint_y: None
            height: 0  # Hidden by default
            opacity: 0  # Hidden by default

            Label:
                text: "Are you sure you want to delete your account?"
                size_hint_y: None
                height: dp(40)

            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)
                size_hint_y: None
                height: dp(40)

                Button:
                    text: "Yes"
                    on_release: root.delete_user()

                Button:
                    text: "No"
                    on_release: root.hide_all()
